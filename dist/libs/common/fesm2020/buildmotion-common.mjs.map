{"version":3,"file":"buildmotion-common.mjs","sources":["../../../../libs/common/src/lib/directives/digit-only.directive.ts","../../../../libs/common/src/lib/directives/trim-value-accessor.ts","../../../../libs/common/src/lib/common.module.ts","../../../../libs/common/src/lib/helpers/subscriptions.ts","../../../../libs/common/src/buildmotion-common.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Directive, ElementRef, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[buildmotionDigitalOnly]',\n})\nexport class DigitOnlyDirective {\n  private navigationKeys = ['Backspace', 'Delete', 'Tab', 'Escape', 'Enter', 'Home', 'End', 'ArrowLeft', 'ArrowRight', 'Clear', 'Copy', 'Paste'];\n  inputElement: HTMLElement;\n  constructor(public el: ElementRef) {\n    this.inputElement = el.nativeElement;\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(e: any) {\n    if (e instanceof KeyboardEvent &&\n      this.navigationKeys.indexOf(e.key) > -1 || // Allow: navigation keys: backspace, delete, arrows etc.\n      (e.key === 'a' && e.ctrlKey === true) || // Allow: Ctrl+A\n      (e.key === 'c' && e.ctrlKey === true) || // Allow: Ctrl+C\n      (e.key === 'v' && e.ctrlKey === true) || // Allow: Ctrl+V\n      (e.key === 'x' && e.ctrlKey === true) || // Allow: Ctrl+X\n      (e.key === 'a' && e.metaKey === true) || // Allow: Cmd+A (Mac)\n      (e.key === 'c' && e.metaKey === true) || // Allow: Cmd+C (Mac)\n      (e.key === 'v' && e.metaKey === true) || // Allow: Cmd+V (Mac)\n      (e.key === 'x' && e.metaKey === true) // Allow: Cmd+X (Mac)\n    ) {\n      // let it happen, don't do anything\n      return;\n    }\n    // Ensure that it is a number and stop the keypress\n    if (isNaN(Number(e.key))) {\n      e.preventDefault();\n    }\n  }\n}\n","import { Directive, HostListener, forwardRef, Inject, Renderer2, ElementRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { noop } from 'rxjs';\n\nconst TRIM_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => TrimValueAccessorDirective),\n  multi: true,\n};\n\n/**\n * The trim accessor for writing trimmed value and listening to changes that is\n * used by the {@link NgModel}, {@link FormControlDirective}, and\n * {@link FormControlName} directives.\n */\n@Directive({\n  // eslint:disable-next-line: directive-selector\n  selector: `\n    input:not([type=checkbox]):not([type=radio]):not([type=password]):not([readonly]):not(.ng-trim-ignore)[formControlName],\n    input:not([type=checkbox]):not([type=radio]):not([type=password]):not([readonly]):not(.ng-trim-ignore)[formControl],\n    input:not([type=checkbox]):not([type=radio]):not([type=password]):not([readonly]):not(.ng-trim-ignore)[ngModel],\n    textarea:not([readonly]):not(.ng-trim-ignore)[formControlName],\n    textarea:not([readonly]):not(.ng-trim-ignore)[formControl],\n    textarea:not([readonly]):not(.ng-trim-ignore)[ngModel],\n    :not([readonly]):not(.ng-trim-ignore)[ngDefaultControl]\n  `,\n  providers: [TRIM_VALUE_ACCESSOR],\n})\n// tslint:disable-next-line: directive-class-suffix\nexport class TrimValueAccessorDirective implements ControlValueAccessor {\n  // Source services to modify elements.\n  private _sourceRenderer: Renderer2;\n  private _sourceElementRef: ElementRef;\n  private _value!: string;\n\n  @HostListener('input', ['$event.target.value'])\n  ngOnChange = (val: string) => {\n    this.onChange(val != null ? val.trim() : val);\n  };\n\n  @HostListener('blur', ['$event.target.value'])\n  ngOnBlur = (val: string) => {\n    this.writeValue(val != null ? val.trim() : val);\n    this.onTouched();\n  };\n\n  constructor(@Inject(Renderer2) renderer: Renderer2, @Inject(ElementRef) elementRef: ElementRef) {\n    this._sourceRenderer = renderer;\n    this._sourceElementRef = elementRef;\n  }\n\n  writeValue(value: any): void {\n    if (typeof value === 'string') {\n      this._value = value != null ? value.trim() : value;\n      this._sourceRenderer.setProperty(this._sourceElementRef.nativeElement, 'value', this._value);\n    }\n  }\n\n  onChange = (_: any) => {\n    noop();\n  };\n\n  onTouched = () => {\n    noop();\n  };\n\n  registerOnChange(fn: (_: any) => void): void {\n    this.onChange = fn;\n  }\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this._sourceRenderer.setProperty(this._sourceElementRef.nativeElement, 'disabled', isDisabled);\n  }\n}\n","import { DigitOnlyDirective } from './directives/digit-only.directive';\nimport { NgModule } from '@angular/core';\nimport { TrimValueAccessorDirective } from './directives/trim-value-accessor';\nimport { CommonModule as NgCommonModule } from '@angular/common';\n\nconst MODULES = [\n  DigitOnlyDirective,\n  TrimValueAccessorDirective,\n];\n\n@NgModule({\n  imports: [NgCommonModule],\n  declarations: [...MODULES],\n  exports: [...MODULES],\n})\nexport class CommonModule { }\n","import { Subscription } from 'rxjs';\n\nexport function removeSubscriptions(subscriptions: Subscription[]) {\n  if (subscriptions) {\n    subscriptions.forEach((subscription: Subscription): void => {\n      if (subscription != null) {\n        subscription.unsubscribe();\n      }\n    });\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["NgCommonModule"],"mappings":"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"}