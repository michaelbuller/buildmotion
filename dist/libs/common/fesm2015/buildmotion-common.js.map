{"version":3,"file":"buildmotion-common.js","sources":["../../../../libs/common/src/lib/directives/digit-only.directive.ts","../../../../libs/common/src/lib/directives/trim-value-accessor.ts","../../../../libs/common/src/lib/common.module.ts","../../../../libs/common/src/lib/helpers/subscriptions.ts","../../../../libs/common/src/buildmotion-common.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Directive, ElementRef, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[buildmotionDigitalOnly]',\n})\nexport class DigitOnlyDirective {\n  private navigationKeys = ['Backspace', 'Delete', 'Tab', 'Escape', 'Enter', 'Home', 'End', 'ArrowLeft', 'ArrowRight', 'Clear', 'Copy', 'Paste'];\n  inputElement: HTMLElement;\n  constructor(public el: ElementRef) {\n    this.inputElement = el.nativeElement;\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(e: any) {\n    if (e instanceof KeyboardEvent &&\n      this.navigationKeys.indexOf(e.key) > -1 || // Allow: navigation keys: backspace, delete, arrows etc.\n      (e.key === 'a' && e.ctrlKey === true) || // Allow: Ctrl+A\n      (e.key === 'c' && e.ctrlKey === true) || // Allow: Ctrl+C\n      (e.key === 'v' && e.ctrlKey === true) || // Allow: Ctrl+V\n      (e.key === 'x' && e.ctrlKey === true) || // Allow: Ctrl+X\n      (e.key === 'a' && e.metaKey === true) || // Allow: Cmd+A (Mac)\n      (e.key === 'c' && e.metaKey === true) || // Allow: Cmd+C (Mac)\n      (e.key === 'v' && e.metaKey === true) || // Allow: Cmd+V (Mac)\n      (e.key === 'x' && e.metaKey === true) // Allow: Cmd+X (Mac)\n    ) {\n      // let it happen, don't do anything\n      return;\n    }\n    // Ensure that it is a number and stop the keypress\n    if (isNaN(Number(e.key))) {\n      e.preventDefault();\n    }\n  }\n}\n","import { Directive, HostListener, forwardRef, Inject, Renderer2, ElementRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { noop } from 'rxjs';\n\nconst TRIM_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => TrimValueAccessorDirective),\n  multi: true,\n};\n\n/**\n * The trim accessor for writing trimmed value and listening to changes that is\n * used by the {@link NgModel}, {@link FormControlDirective}, and\n * {@link FormControlName} directives.\n */\n@Directive({\n  // eslint:disable-next-line: directive-selector\n  selector: `\n    input:not([type=checkbox]):not([type=radio]):not([type=password]):not([readonly]):not(.ng-trim-ignore)[formControlName],\n    input:not([type=checkbox]):not([type=radio]):not([type=password]):not([readonly]):not(.ng-trim-ignore)[formControl],\n    input:not([type=checkbox]):not([type=radio]):not([type=password]):not([readonly]):not(.ng-trim-ignore)[ngModel],\n    textarea:not([readonly]):not(.ng-trim-ignore)[formControlName],\n    textarea:not([readonly]):not(.ng-trim-ignore)[formControl],\n    textarea:not([readonly]):not(.ng-trim-ignore)[ngModel],\n    :not([readonly]):not(.ng-trim-ignore)[ngDefaultControl]\n  `,\n  providers: [TRIM_VALUE_ACCESSOR],\n})\n// tslint:disable-next-line: directive-class-suffix\nexport class TrimValueAccessorDirective implements ControlValueAccessor {\n  // Source services to modify elements.\n  private _sourceRenderer: Renderer2;\n  private _sourceElementRef: ElementRef;\n  private _value!: string;\n\n  @HostListener('input', ['$event.target.value'])\n  ngOnChange = (val: string) => {\n    this.onChange(val != null ? val.trim() : val);\n  };\n\n  @HostListener('blur', ['$event.target.value'])\n  ngOnBlur = (val: string) => {\n    this.writeValue(val != null ? val.trim() : val);\n    this.onTouched();\n  };\n\n  constructor(@Inject(Renderer2) renderer: Renderer2, @Inject(ElementRef) elementRef: ElementRef) {\n    this._sourceRenderer = renderer;\n    this._sourceElementRef = elementRef;\n  }\n\n  writeValue(value: any): void {\n    if (typeof value === 'string') {\n      this._value = value != null ? value.trim() : value;\n      this._sourceRenderer.setProperty(this._sourceElementRef.nativeElement, 'value', this._value);\n    }\n  }\n\n  onChange = (_: any) => {\n    noop();\n  };\n\n  onTouched = () => {\n    noop();\n  };\n\n  registerOnChange(fn: (_: any) => void): void {\n    this.onChange = fn;\n  }\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this._sourceRenderer.setProperty(this._sourceElementRef.nativeElement, 'disabled', isDisabled);\n  }\n}\n","import { DigitOnlyDirective } from './directives/digit-only.directive';\nimport { NgModule } from '@angular/core';\nimport { TrimValueAccessorDirective } from './directives/trim-value-accessor';\nimport { CommonModule as NgCommonModule } from '@angular/common';\n\nconst MODULES = [\n  DigitOnlyDirective,\n  TrimValueAccessorDirective,\n];\n\n@NgModule({\n  imports: [NgCommonModule],\n  declarations: [...MODULES],\n  exports: [...MODULES],\n})\nexport class CommonModule { }\n","import { Subscription } from 'rxjs';\n\nexport function removeSubscriptions(subscriptions: Subscription[]) {\n  if (subscriptions) {\n    subscriptions.forEach((subscription: Subscription): void => {\n      if (subscription != null) {\n        subscription.unsubscribe();\n      }\n    });\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["NgCommonModule"],"mappings":"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"}