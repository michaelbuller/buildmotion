{"version":3,"file":"buildmotion-configuration.js","sources":["../../../../libs/configuration/src/lib/configuration-context.ts","../../../../libs/configuration/src/lib/configuration.module.ts","../../../../libs/configuration/src/lib/config/app-environment.enum.ts","../../../../libs/configuration/src/lib/mocks/app-config.mock.ts","../../../../libs/configuration/src/lib/configuration.service.ts","../../../../libs/configuration/src/lib/mocks/configuration.service.mock.ts","../../../../libs/configuration/src/lib/config/error-handling-config.ts","../../../../libs/configuration/src/lib/config/logging-config.ts","../../../../libs/configuration/src/buildmotion-configuration.ts"],"sourcesContent":["import { IConfiguration } from './i-configuration';\n\nexport class ConfigurationContext {\n  config!: IConfiguration;\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ConfigurationContext } from './configuration-context';\n\n@NgModule({\n  imports: [CommonModule],\n})\nexport class ConfigurationModule {\n  static forRoot(configContext: ConfigurationContext): ModuleWithProviders<ConfigurationModule> {\n    return {\n      ngModule: ConfigurationModule,\n      providers: [\n        {\n          provide: ConfigurationContext,\n          useValue: configContext,\n        },\n      ],\n    };\n  }\n}\n","export enum AppEnvironment {\n  development = 'development',\n  local = 'local',\n  production = 'production',\n  qa = 'qa',\n  stage = 'stage',\n}\n","import { AppEnvironment } from '../config/app-environment.enum';\nimport { IConfiguration } from '../i-configuration';\n\nexport const AppConfigMock: IConfiguration = {\n  apiConfig: {\n    apiURL: 'http://localhost:3333/api',\n    baseUrl: 'https://api.buildmotion.io/',\n    csrf: 'https://api-dev.buildmotion.io/auth2/csrf',\n    health: 'https://api.buildmotion-ui.net/v1/dev/health',\n    version: 'https://api-dev.buildmotion.io/version',\n  },\n  dataDogConfig: {\n    logs: {\n      clientToken: 'MOCK-TOKEN-HERE',\n      forwardErrorsToLogs: false,\n      sampleRate: 100,\n      site: 'datadoghq.com'\n    },\n    realUserMonitoring: {\n      applicationId: 'BEEF-TACO-CORN-GOOD-CORN',\n      clientToken: 'pubCORNBEEFISGOOD0fbc',\n      site: 'datadoghq.com',\n      service: 'buildmotion360nonprod',\n      env: 'non-prod',\n      version: '42.0.0',\n      sampleRate: 100,\n      trackInteractions: true\n    }\n  },\n  loggingConfig: {\n    applicationName: 'buildmotion',\n    isProduction: false,\n  },\n  errorHandlingConfig: {\n    applicationName: 'buildmotion',\n    includeDefaultErrorHandling: true,\n  },\n  webConfig: {\n    applicationName: 'buildmotion',\n    blogURL: 'https://www.medium.com/@angularlicious',\n    companyEffectiveDate: new Date(2020, 10, 1),\n    companyName: 'buildmotion',\n    defaultPageSize: 25,\n    email: 'info@buildmotion.io',\n    googleTagManagerId: 'GTM-12341234',\n    keywordValidationInMilliseconds: 750,\n    pageSizeOptions: [25, 50, 100],\n    reloadDelayAfterNoticeInMinutes: 0,\n    reloadDelayInMinutes: 1439,\n    reloadNoticeDisplayInSeconds: 30,\n    social: {\n      instagram: {\n        name: '',\n        URL: '',\n      },\n      twitter: { name: '', URL: '' },\n    },\n    version: '42.42.42',\n    website: 'buildmotion.io',\n  },\n  version: {\n    environment: AppEnvironment.local,\n    displayNotification: true,\n  },\n};\n","import { Injectable, Optional } from '@angular/core';\nimport { Subject, ReplaySubject, Observable } from 'rxjs';\nimport { IConfiguration } from './i-configuration';\nimport { ConfigurationContext } from './configuration-context';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ConfigurationService implements IConfigurationService {\n  config!: IConfiguration;\n\n  private settingsSubject: Subject<IConfiguration> = new ReplaySubject<IConfiguration>(1);\n  public readonly settings$: Observable<IConfiguration> = this.settingsSubject.asObservable();\n\n  constructor(@Optional() context: ConfigurationContext) {\n    if (context) {\n      this.settingsSubject.next(context.config);\n    }\n  }\n\n  set settings(value) {\n    this.config = value;\n    this.settingsSubject.next(this.config);\n  }\n\n  get settings(): IConfiguration {\n    return this.config;\n  }\n}\nexport interface IConfigurationService {\n  readonly settings$: Observable<IConfiguration>\n}\n","import { Observable, ReplaySubject, Subject } from 'rxjs';\n\nimport { AppConfigMock } from './app-config.mock';\nimport { IConfiguration } from '../i-configuration';\nimport { IConfigurationService } from '../configuration.service';\nimport { Injectable, Optional } from '@angular/core';\nimport { ConfigurationContext } from '../configuration-context';\n\n@Injectable()\nexport class ConfigurationServiceMock implements IConfigurationService {\n  private settingsSubject: Subject<IConfiguration> = new ReplaySubject<IConfiguration>(1);\n  public readonly settings$: Observable<IConfiguration> = this.settingsSubject.asObservable();\n  config = AppConfigMock;\n\n  constructor(@Optional() context: ConfigurationContext) {\n    if (context) {\n      this.settingsSubject.next(context.config);\n    }\n  }\n\n  set settings(value: IConfiguration) {\n    this.config = value;\n    if (this.config) {\n      this.settingsSubject.next(this.config);\n    }\n  }\n\n  get settings(): IConfiguration {\n    return this.config;\n  }\n}\n","import { IErrorHandingConfig } from './i-error-handling-config';\n\nexport class ErrorHandlingConfig implements IErrorHandingConfig {\n  applicationName!: string;\n  includeDefaultErrorHandling = false;\n}\n","import { ILoggingConfig } from './i-logging-config';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class LoggingConfig implements ILoggingConfig {\n  applicationName!: string;\n  isProduction = false;\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}